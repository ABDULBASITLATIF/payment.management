<mvc:View
    controllerName="zfi.payment.management.controller.NewDoc"
    xmlns:mvc="sap.ui.core.mvc"
    displayBlock="true"
    xmlns:core="sap.ui.core"
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:fb="sap.ui.comp.filterbar"
    xmlns:svm="sap.ui.comp.smartvariants"
>
    <f:DynamicPage
        id="_IDGenDynamicPage"
        headerExpanded="{/headerExpanded}"
        showFooter="true"
    >
        <f:title>
            <f:DynamicPageTitle id="_IDGenDynamicPageTitle">
                <f:heading>
                    <Title
                        id="_IDGenTitle"
                        text="Payment Management"
                    />
                </f:heading>

                <f:actions>
                    <Button
                        id="_IDGenButton3"
                        text="Create"
                        type="Emphasized"
                        press=".onCreate"
                    />
                </f:actions>
            </f:DynamicPageTitle>
        </f:title>
        <f:header>
            <f:DynamicPageHeader id="_IDGenDynamicPageHeader1">
                <f:content>
                   <fb:FilterBar
    id="filterbar"
    persistencyKey="myPersKey"
    useToolbar="false"
    showFilterConfiguration="false"
    search=".onFilterChange"
>
    <fb:filterGroupItems>
        <fb:FilterGroupItem
            id="_IDGenFilterGroupItem1"
            name="Draft ID"
            label="Draft ID"
            groupName="Group1"
            visibleInFilterBar="true"
        >
            <fb:control>
                <Input
                    id="filterDraftId"
                    name="Draft ID"
                    placeholder="Enter Draft ID"
                    showSuggestion="false"
                    showValueHelp="false"
                />
            </fb:control>
        </fb:FilterGroupItem>
        
        <fb:FilterGroupItem
            id="_IDGenFilterGroupItem2"
            name="Fiscal Year"
            label="Fiscal Year"
            groupName="Group1"
            visibleInFilterBar="true"
        >
            <fb:control>
                <Input
                    id="filterFiscYear"
                    name="Fiscal Year"
                    placeholder="Enter Fiscal Year (e.g., 2024)"
                    showSuggestion="false"
                    showValueHelp="false"
                />
            </fb:control>
        </fb:FilterGroupItem>
        
        <fb:FilterGroupItem
            id="_IDGenFilterGroupItem3"
            name="Posting Date"
            label="Posting Date"
            groupName="Group1"
            visibleInFilterBar="true"
        >
            <fb:control>
                <DatePicker
                    id="filterPostingDate"
                    name="Posting Date"
                    placeholder="Select Posting Date"
                    displayFormat="dd/MM/yyyy"
                />
            </fb:control>
        </fb:FilterGroupItem>
        
        <fb:FilterGroupItem
            id="_IDGenFilterGroupItem4"
            name="Draft Type"
            label="Draft Type"
            groupName="Group1"
            visibleInFilterBar="true"
        >
            <fb:control>
     <Select
    id="filterDraftType"
    forceSelection="false"
    selectedKey=""
>
    <core:Item id="_IDGenItem5" key=""  text="All"/>
    <core:Item id="_IDGenItem6" key="1" text="Created"/>
    <!-- <core:Item id="_IDGenItem7" key="2" text=""/>
    <core:Item id="_IDGenItem8" key="3" text=" "/> -->
    <core:Item id="_IDGenItem9" key="4" text="Rejected, ReSubmit"/>
</Select>
            </fb:control>
        </fb:FilterGroupItem>
    </fb:filterGroupItems>
</fb:FilterBar>
                </f:content>
            </f:DynamicPageHeader>
        </f:header>
        <f:content>
    <Table
    id="table"
    inset="false"
    growing="true"
    growingThreshold="100"
    width="auto"
    mode="MultiSelect"
    items="{headModel>/}"
    selectionChange=".onSelectionChange"
>
    <headerToolbar>
        <OverflowToolbar id="tableHeaderToolbar">
            <Title id="tableTitle" text="Payment Drafts ({headModel>/.length})" level="H2"/>
            <ToolbarSpacer id="toolbarSpacer"/>
            <Button 
                id="btnClearFilters"
                text="Clear Filters"
                icon="sap-icon://clear-filter"
                press=".onClearFilters"
            />
        </OverflowToolbar>
    </headerToolbar>
    
    <columns>
        <Column id="_IDGenColumn" minScreenWidth="Tablet" demandPopin="true">
            <Text id="compCode" text="Company Code"/>
        </Column>
        <Column id="_IDGenColumn1" minScreenWidth="Tablet" demandPopin="true">
            <Text id="fiscYear" text="Fiscal Year"/>
        </Column>
        <Column id="_IDGenColumn2" minScreenWidth="Tablet" demandPopin="true">
            <Text id="draftType" text="Draft Type"/>
        </Column>
        <Column id="_IDGenColumn3" minScreenWidth="Tablet" demandPopin="true">
            <Text id="docDate" text="Document Date"/>
        </Column>
        <Column id="_IDGenColumn4" minScreenWidth="Tablet" demandPopin="true">
            <Text id="postingDate" text="Posting Date"/>
        </Column>
        <Column id="_IDGenColumn5" minScreenWidth="Tablet" demandPopin="true">
            <Text id="reference" text="Reference"/>
        </Column>
        <Column id="_IDGenColumn6" minScreenWidth="Tablet" demandPopin="true">
            <Text id="headText" text="Company Name"/>
        </Column>
        <Column id="_IDGenColumn7" minScreenWidth="Tablet" demandPopin="true">
            <Text id="bankKey" text="House Bank"/>
        </Column>
        <Column id="_IDGenColumn8" minScreenWidth="Tablet" demandPopin="true">
            <Text id="vendor" text="Supplier"/>
        </Column>
    </columns>

    <items>
       <ColumnListItem 
    id="_IDGenColumnListItem" 
    vAlign="Middle"
    type="Navigation"
    press=".onEditDraft">
            <cells>
                <Text id="_IDGenText7" text="{headModel>compCode}"/>
                <Text id="_IDGenText8" text="{headModel>fiscYear}"/>
                <Text id="_IDGenText9" text="{headModel>draftType}"/>
                <Text id="_IDGenText10" text="{
                    path: 'headModel>docDate',
                    type: 'sap.ui.model.type.Date',
                    formatOptions: { pattern: 'dd/MM/yyyy' }
                }"/>
                <Text id="_IDGenText11" text="{
                    path: 'headModel>postingDate',
                    type: 'sap.ui.model.type.Date',
                    formatOptions: { pattern: 'dd/MM/yyyy' }
                }"/>
                <Text id="_IDGenText12" text="{headModel>reference}"/>
                <Text id="_IDGenText13" text="{headModel>headText}"/>
                <Text id="_IDGenText14" text="{headModel>bankKey}"/>
                <Text id="_IDGenText15" text="{headModel>vendor}"/>
            </cells>
        </ColumnListItem>
    </items>
</Table>
        </f:content>
        <!-- <f:footer>
            <OverflowToolbar id="_IDGenOverflowToolbar">
                <ToolbarSpacer id="_IDGenToolbarSpacer" />
                <Button
                    id="_IDGenButton"
                    type="Accept"
                    text=""
                    press=" "
                />
            </OverflowToolbar>
        </f:footer> -->
    </f:DynamicPage>
</mvc:View>
